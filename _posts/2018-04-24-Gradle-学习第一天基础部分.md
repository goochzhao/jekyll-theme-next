---
title: Gradle 学习第一天基础部分
date: 2018-04-24 18:22
categories: 
- Gradle学习
tags:
- Gradle学习
description: android中使用Gradle脚本是必不可少的，像打包，编译，插件化，热修复，构建等都对Gradle有比较急切的需求，所以来说学习它是前进道路上的一环。

---

#  Gradle基础

配置好Gradle环境后，即可开始学习简单的语法相关。安装什么的就不写了，网上太多了。

## 第一个构建脚本

```gro
task hello {
    doLast{
        println 'hello world!'
    }
}
```

然后执行`gradle -q hello` 即可，在这里简单说一下，groovy语言是对单引号和双引号没有区分，都表示字符串。

上面的快捷方式：

```gr
task hello << {
    println 'hello world!'
}
```

其中`<<` 这个符号表示`doLast`方法，其实这个方法是task的一个生命周期。

## 任务依赖

```groovy
task hello << {
    println 'hello world!'
}
task intro(dependsOn: hello) << {
    println "I'm gradle"
}
输出结果：
hello world!
I'gradle
```

## 延迟依赖

```groovy
task taskX(dependsOn: 'taskY') << {
    println 'taskX'
}
task taskY << {
    println 'taskY'
}
执行结果：
taskY
taskX
```

定义在任务的后面也可以

## 动态任务

```groovy
4.times { counter ->
    task "task$counter" << {
        println "I'm task number $counter"
    }
}
```

执行: `gradle -q  task1`

输出结果：

```groovy
I'm task number 1
```

doFirst 和 doLast 可以进行多次调用。他们分别被添加在任务的开头和结尾。当任务开始执行时这些动作会按照既定顺序进行。其中 << 操作符 是 doLast 的简写方式。



