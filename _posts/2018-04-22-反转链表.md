---
titlte: 反转链表
date: 2018-04-22 13:37
categories:
- 算法
tags:
- 算法
description: 记录学习的一道反转链表面试题

---

# 反转链表

## 题目

> 输入一个链表，反转链表后，输出链表的所有元素。

## 解法

1. 递归

   ```java
   public class Solution {
   	public ListNode ReverseList(ListNode head) {
   		if(head==null || head.next==null){
   		   return head;
   		}
   	ListNode p=head.next;
   	ListNode newHead=ReverseList(p);

   	p.next = head;
   	head.next =null;
   	return newHead;
   	}
   }
   ```

   > 分析

   ​	将整个链表看成只有两个节点（头节点和剩下的节点）反转只用　剩下的节点　的尾指针指向头结点，头结点的指针指向空。再把　剩下的节点　看成两个节点，依次递归即可。

2. 借用栈的特性

   ```java
   public class Solution{
       public ListNode ReverseList(ListNode head){
           if(head==null|| head.next==null){
               return head;
           }
           Stack stack =new Stack();
           ListNode in=head;
           ListNode out =head;
           while(in!=null){
               stack.push(in.val);
               in = in.next;
           }
           while(out!=null){
               out.val=(int)stack.pop();
               out=out.next;
           }
           return head;
       }
   }
   ```

   > 分析

   ​	链表的结构和指针不变，把整个链表的值反转存入即可，正好运用栈的特性。

3. 移动指针

   ```java
   public class Solution {
     public ListNode ReverseList(ListNode head) {
   	if(head==null || head.next==null){
   		return head;
     	}
   	ListNode cur=head;
   	ListNode pre=null;
   	ListNode next=null;
   	while(cur!=null){
   		next=cur.next;
   		cur.next=pre;
   		pre=cur;
   		cur=next;
   	}
   	return pre;
     }
   }
   ```

   > 分析

   ​	链表的值不变，利用中转节点pre来改变指针，使最后一个节点依次指向第一个节点。

   这中方法直观上不太好理解，下面进行图示：

   ![mark](http://p7fpzn7qh.bkt.clouddn.com/goochzhao/180422/i7mkJkdjfE.png?imageslim)

每次进行一次指针反向则最终pre即为链表反转后的头指针。